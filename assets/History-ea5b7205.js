import{r as v,b as g,d as h,e as x,o as w,c as b,w as r,f as s,g as o,u as l,a as d,t as u}from"./app-512db043.js";import{_ as y,k as E}from"./AuthenticatedLayout-3abc894e.js";import{E as f}from"./index-99a21820.js";import{E as z,a as p}from"./index-0112bd35.js";import{E as C}from"./index-edac8920.js";import{E as D}from"./index-f1f173d8.js";import"./index-ab4f1430.js";import"./index-ec8fda9a.js";import"./validator-71cf8062.js";const V={class:"container"},k={class:"p-5"},T={class:"flex flex-wrap gap-2 items-center mb-2"},N=s("div",{class:"font-semibold text-lg"},"Date From:",-1),P=s("div",{class:"text-lg font-semibold"},"Date To:",-1),B={class:"flex justify-end pt-2"},A={__name:"History",setup(S){const i=v({value:[]}),t=g({date_from:new Date,date_until:new Date,page:1,page_size:5}),m=g(0);h(()=>{n()});const n=()=>{x.get(route("history.get",t.value)).then(c=>{const a=c.data;i.value=a.data,m.value=a.total})},_=()=>{if(i.value.length<1){E({type:"warning",message:"No data to export."});return}window.location.href=route("export.inventory",{search:t.value})};return(c,a)=>(w(),b(y,null,{default:r(()=>[s("div",V,[s("div",k,[s("div",T,[N,o(l(f),{modelValue:t.value.date_from,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.date_from=e),type:"date",placeholder:"Date from",onChange:n},null,8,["modelValue"]),P,o(l(f),{modelValue:t.value.date_until,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.date_until=e),type:"date",placeholder:"Date to",onChange:n},null,8,["modelValue"]),s("div",{class:"px-4 py-1 rounded-md bg-teal-700 text-white font-semibold hover:bg-teal-600 cursor-pointer",onClick:_}," Export ")]),o(l(D),{class:"mt-5",shadow:"always"},{default:r(()=>[o(l(z),{data:i.value,"row-key":"id","header-row-class-name":"thead-light"},{default:r(()=>[o(l(p),{"min-width":"220px",label:"Location"},{default:r(({row:e})=>[d(u(e.location.name),1)]),_:1}),o(l(p),{"min-width":"220px",label:"Transformer Serial Number"},{default:r(({row:e})=>[d(u(e.transformer.serial_no),1)]),_:1}),o(l(p),{"min-width":"220px",label:"Date"},{default:r(({row:e})=>[d(u(e.created_at.replace("T"," ").substring(0,19)),1)]),_:1})]),_:1},8,["data"]),s("div",B,[o(l(C),{currentPage:t.value.page,"onUpdate:currentPage":a[2]||(a[2]=e=>t.value.page=e),"page-size":t.value.page_size,"onUpdate:pageSize":a[3]||(a[3]=e=>t.value.page_size=e),"page-sizes":[5,10,50,100],background:"",layout:"total, sizes, prev, pager, next",total:m.value,onSizeChange:n,onCurrentChange:n},null,8,["currentPage","page-size","total"])])]),_:1})])])]),_:1}))}};export{A as default};
