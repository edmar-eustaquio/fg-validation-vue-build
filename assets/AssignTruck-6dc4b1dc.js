import{k as x,o as i,i as u,f as t,u as e,l as R,m as B,g as n,n as k,p as P,t as $,q as W,b as T,r as A,d as q,e as y,c as _,w as o,j as D,F as E,a as g}from"./app-512db043.js";import{u as O,e as Z,f as j,g as H,h as J,i as Q,w as X,_ as Y,E as w,j as ee,k as N}from"./AuthenticatedLayout-3abc894e.js";import{E as G,a as U}from"./index-ec8fda9a.js";import{E as V}from"./index-f1f173d8.js";import{E as z,a as b}from"./index-0112bd35.js";import{E as I}from"./index-4b08918f.js";import"./index-ab4f1430.js";import"./validator-71cf8062.js";import"./index-ac2f0de8.js";const te={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},le=["id"],se=["stop-color"],ae=["stop-color"],oe=["id"],ne=["stop-color"],re=["stop-color"],ie=["id"],ce={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},de={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},ue={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},me=["fill"],pe=["fill"],fe={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},_e=["fill"],ge=["fill"],he=["fill"],ye=["fill"],ve=["fill"],ke={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},we=["fill","xlink:href"],be=["fill","mask"],$e=["fill"],xe=x({name:"ImgEmpty"}),Ce=x({...xe,setup(v){const l=O("empty"),r=Z();return(s,p)=>(i(),u("svg",te,[t("defs",null,[t("linearGradient",{id:`linearGradient-1-${e(r)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[t("stop",{"stop-color":`var(${e(l).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,se),t("stop",{"stop-color":`var(${e(l).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,ae)],8,le),t("linearGradient",{id:`linearGradient-2-${e(r)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[t("stop",{"stop-color":`var(${e(l).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,ne),t("stop",{"stop-color":`var(${e(l).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,re)],8,oe),t("rect",{id:`path-3-${e(r)}`,x:"0",y:"0",width:"17",height:"36"},null,8,ie)]),t("g",ce,[t("g",de,[t("g",ue,[t("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${e(l).cssVarBlockName("fill-color-3")})`},null,8,me),t("polygon",{id:"Rectangle-Copy-14",fill:`var(${e(l).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,pe),t("g",fe,[t("polygon",{id:"Rectangle-Copy-10",fill:`var(${e(l).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,_e),t("polygon",{id:"Rectangle-Copy-11",fill:`var(${e(l).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,ge),t("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${e(r)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,he),t("polygon",{id:"Rectangle-Copy-13",fill:`var(${e(l).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,ye)]),t("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${e(r)})`,x:"13",y:"45",width:"40",height:"36"},null,8,ve),t("g",ke,[t("use",{id:"Mask",fill:`var(${e(l).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${e(r)}`},null,8,we),t("polygon",{id:"Rectangle-Copy",fill:`var(${e(l).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${e(r)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,be)]),t("polygon",{id:"Rectangle-Copy-18",fill:`var(${e(l).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,$e)])])])]))}});var Be=j(Ce,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/img-empty.vue"]]);const Ee=H({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),Ne=["src"],Ve={key:1},Se=x({name:"ElEmpty"}),Re=x({...Se,props:Ee,setup(v){const l=v,{t:r}=J(),s=O("empty"),p=R(()=>l.description||r("el.table.emptyText")),f=R(()=>({width:Q(l.imageSize)}));return(c,S)=>(i(),u("div",{class:k(e(s).b())},[t("div",{class:k(e(s).e("image")),style:P(e(f))},[c.image?(i(),u("img",{key:0,src:c.image,ondragstart:"return false"},null,8,Ne)):B(c.$slots,"image",{key:1},()=>[n(Be)])],6),t("div",{class:k(e(s).e("description"))},[c.$slots.description?B(c.$slots,"description",{key:0}):(i(),u("p",Ve,$(e(p)),1))],2),c.$slots.default?(i(),u("div",{key:0,class:k(e(s).e("bottom"))},[B(c.$slots,"default")],2)):W("v-if",!0)],2))}});var Te=j(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/empty/src/empty.vue"]]);const M=X(Te),Ae={class:"container"},De={class:"row m-5"},Ge={class:""},Ue={class:"flex flex-wrap justify-between"},ze=t("div",{class:"font-bold mb-2 text-center text-gray-500"},"Assigned DR Number",-1),Ie={class:"text-right mt-2"},Me=t("div",{class:"font-bold mb-2 text-center text-gray-500"},"Unassigned DR Number",-1),He={__name:"AssignTruck",props:["trucks"],setup(v){const l=T(null),r=T(null),s=A({}),p=A({value:[]});q(()=>{f()});const f=()=>{c(),y.get(route("asset.get-assigned-unassigned")).then(({data:d})=>{s.value=d})},c=()=>{y.get(route("asset.get-unassigned-drs")).then(({data:d})=>{p.value=d})},S=()=>{I.confirm("Are you sure you want to unaassign all this dr numbers?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{await y.post(route("asset.unassign-all-drs")).then(()=>{f()}).catch(()=>{N({type:"error",message:"Error unassigning all dr numbers!!!"})})}).catch(()=>{})};function F(){l.value=p.value.map(d=>d.dr_number)}const K=()=>{y.post(route("asset.assign-truck-api"),{dr_numbers:l.value,truck:r.value}).finally(()=>{l.value=null,r.value=null,f(),N({type:"success",message:"Successfully updated."})})};function L(d){I.confirm("Are you sure you want to unaassign this dr number?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{await y.post(route("asset.unassign-dr",d)).then(()=>{f()}).catch(h=>{N({type:"error",message:"Error unassigning dr number!!!"})})}).catch(()=>{})}return(d,h)=>(i(),_(Y,null,{default:o(()=>[t("div",Ae,[t("div",De,[n(e(V),{shadow:"always"},{default:o(()=>[t("span",Ge,[n(e(G),{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=a=>l.value=a),filterable:"",multiple:"",placeholder:"Select DR Numbers",clearable:""},{default:o(()=>[(i(!0),u(E,null,D(p.value,a=>(i(),_(e(U),{label:a.dr_number,value:a.dr_number},null,8,["label","value"]))),256))]),_:1},8,["modelValue"]),n(e(w),{type:"primary",class:"ml-1",onClick:F},{default:o(()=>[g(" Select All ")]),_:1})]),n(e(G),{modelValue:r.value,"onUpdate:modelValue":h[1]||(h[1]=a=>r.value=a),class:"ml-2 mr-2",filterable:"",placeholder:"Select Truck No.",clearable:""},{default:o(()=>[(i(!0),u(E,null,D(v.trucks,a=>(i(),_(e(U),{label:a.truck_no,value:a.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"]),n(e(w),{type:"success",onClick:K},{default:o(()=>[g(" Save ")]),_:1})]),_:1}),t("div",Ue,[n(e(V),{class:"w-full md:w-[48%] mt-5",shadow:"always"},{default:o(()=>{var a;return[ze,s&&s.value&&s.value.assigned.length>0?(i(),u(E,{key:0},[n(e(z),{data:((a=s==null?void 0:s.value)==null?void 0:a.assigned)??[],"row-key":"id","header-row-class-name":"thead-light"},{default:o(()=>[n(e(b),{"min-width":"130px",label:"DR Number"},{default:o(({row:m})=>[g($(m.dr_number),1)]),_:1}),n(e(b),{"min-width":"120px",label:"Truck No"},{default:o(({row:m})=>{var C;return[g($((C=m.truck_info)==null?void 0:C.truck_no),1)]}),_:1}),n(e(b),{width:"70px",label:"Action"},{default:o(({row:m})=>[n(e(w),{type:"danger",size:"small",icon:e(ee),onClick:C=>L(m.dr_number)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),t("div",Ie,[n(e(w),{onClick:S,type:"danger"},{default:o(()=>[g("Unaassign All")]),_:1})])],64)):(i(),_(e(M),{key:1,description:"Empty assigned assets"}))]}),_:1}),n(e(V),{class:"w-full md:w-[48%] mt-5",shadow:"always"},{default:o(()=>{var a;return[Me,s&&s.value&&s.value.unassigned.length>0?(i(),_(e(z),{key:0,data:((a=s==null?void 0:s.value)==null?void 0:a.unassigned)??[],"row-key":"id","header-row-class-name":"thead-light"},{default:o(()=>[n(e(b),{"min-width":"220px",label:"DR Number"},{default:o(({row:m})=>[g($(m.dr_number),1)]),_:1})]),_:1},8,["data"])):(i(),_(e(M),{key:1,description:"Empty unassigned assets"}))]}),_:1})])])])]),_:1}))}};export{He as default};
