import{r as i,b as E,G as k,o as p,c as C,w as u,f as a,g as d,u as t,a as c,i as m,t as _,q as f,e as x,_ as P}from"./app-512db043.js";import{E as v,k as g}from"./AuthenticatedLayout-3abc894e.js";import{E as w}from"./index-ab4f1430.js";import{E as U}from"./index-3cc4760d.js";import"./index-ac2f0de8.js";const b=a("label",{for:""},"Current Password",-1),B={key:0,class:"text-red-600"},N={class:"pt-2"},D=a("label",{for:""},"New Password",-1),I={key:0,class:"text-red-600"},M={class:"pt-2"},S=a("label",{for:""},"Confirm Password",-1),j={class:"flex justify-end"},z={__name:"UpdatePassword",props:{onClose:{type:Function,default:()=>{}}},setup(y){const V=y,o=i({value:{current_password:null,new_password:null,confirm_password:null}}),l=i({value:{}}),n=E(!0);k(n,(r,e)=>{r||V.onClose()});const h=()=>{x.post(route("user.update-password"),o.value).then(r=>{g({type:"success",message:"Password successfully updated."}),P.Inertia.post(route("logout"))}).catch(r=>{l.value=r.response.data.errors})};return(r,e)=>(p(),C(t(U),{width:"400px",modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value=s),title:"Update Password","close-on-click-modal":!1},{footer:u(()=>[a("span",j,[d(t(v),{type:"warning",onClick:e[3]||(e[3]=s=>n.value=!1),plain:""},{default:u(()=>[c("Cancel")]),_:1}),d(t(v),{type:"primary",onClick:h},{default:u(()=>[c("Update")]),_:1})])]),default:u(()=>[a("div",null,[b,d(t(w),{modelValue:o.value.current_password,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.current_password=s),type:"password",placeholder:"Enter current password","show-password":"",style:{width:"100%"}},null,8,["modelValue"]),l.value.current_password?(p(),m("span",B,_(l.value.current_password[0]),1)):f("",!0)]),a("div",N,[D,d(t(w),{modelValue:o.value.new_password,"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.new_password=s),type:"password",placeholder:"Enter new password","show-password":"",style:{width:"100%"}},null,8,["modelValue"]),l.value.new_password?(p(),m("span",I,_(l.value.new_password[0]),1)):f("",!0)]),a("div",M,[S,d(t(w),{modelValue:o.value.confirm_password,"onUpdate:modelValue":e[2]||(e[2]=s=>o.value.confirm_password=s),type:"password",placeholder:"Enter confirm password","show-password":"",style:{width:"100%"}},null,8,["modelValue"])])]),_:1},8,["modelValue"]))}};export{z as default};
