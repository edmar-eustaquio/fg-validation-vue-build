import{r as m,b as h,G as x,d as w,av as C,o as d,c as g,w as u,f as r,g as i,u as n,a as p,i as c,t as f,q as v,e as B,_ as P}from"./app-6eee4d8d.js";import{E as _,k as U}from"./AuthenticatedLayout-6c76d90f.js";import{E as V}from"./index-20c6f4d9.js";import{E as N}from"./index-0a96b504.js";import"./index-73f543b2.js";const b=r("label",{for:""},"Name",-1),M={key:0,class:"text-red-600"},D={class:"pt-2"},I=r("label",{for:""},"Email",-1),S={key:0,class:"text-red-600"},j={class:"flex justify-end"},z={__name:"UpdateProfile",props:{onClose:{type:Function,default:()=>{}}},setup(y){const E=y,t=m({value:{name:null,email:null}}),a=m({value:{}}),s=h(!0);x(s,(l,e)=>{l||E.onClose()}),w(()=>{const{name:l,email:e}=C().props.value.user;t.value={name:l,email:e}});const k=()=>{B.post(route("user.update-profile"),t.value).then(l=>{U({type:"success",message:"Profile successfully updated."}),s.value=!1,P.Inertia.reload()}).catch(l=>{a.value=l.response.data.errors})};return(l,e)=>(d(),g(n(N),{width:"350px",modelValue:s.value,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value=o),title:"Update Profile","close-on-click-modal":!1},{footer:u(()=>[r("span",j,[i(n(_),{type:"warning",onClick:e[2]||(e[2]=o=>s.value=!1),plain:""},{default:u(()=>[p("Cancel")]),_:1}),i(n(_),{type:"primary",onClick:k},{default:u(()=>[p("Update")]),_:1})])]),default:u(()=>[r("div",null,[b,i(n(V),{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),placeholder:"Enter name",style:{width:"100%"}},null,8,["modelValue"]),a.value&&a.value.name?(d(),c("span",M,f(a.value.name[0]),1)):v("",!0)]),r("div",D,[I,i(n(V),{modelValue:t.value.email,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.email=o),placeholder:"Enter email",style:{width:"100%"}},null,8,["modelValue"]),a.value&&a.value.email?(d(),c("span",S,f(a.value.email[0]),1)):v("",!0)])]),_:1},8,["modelValue"]))}};export{z as default};
