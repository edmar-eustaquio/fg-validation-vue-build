import{R as J,aR as Ke,ay as je,Y as Ce,g as Ue,p as Ye,n as se,U as Ee,V as Xe,q as qe,ar as Ge,v as Ze,ap as Je,u as Ie,a3 as Qe,aS as et,aT as tt,aq as ot,a1 as at,r as ze,y as A,o as st,f as nt,w as lt}from"./AuthenticatedLayout-50ff9968.js";import{l as f,Z as Pe,b as F,C as G,G as Z,V as rt,a1 as ne,k as Ve,Q as it,X as ut,J as P,z as ct,Y as dt,v as pt,y as ft,o as v,i as S,q as m,F as le,n as b,u as o,m as U,f as V,c as E,w as M,T as Y,U as re,g as vt,B as mt,al as ht,t as X,p as yt,a5 as Te}from"./app-bc212b95.js";const gt=()=>J&&/firefox/i.test(window.navigator.userAgent);let q;const _t=a=>{var d;if(!J)return 0;if(q!==void 0)return q;const s=document.createElement("div");s.className=`${a}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const t=s.offsetWidth;s.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",s.appendChild(n);const r=n.offsetWidth;return(d=s.parentNode)==null||d.removeChild(s),q=t-r,q};function Lt(a,d){if(!J)return;if(!d){a.scrollTop=0;return}const s=[];let t=d.offsetParent;for(;t!==null&&a!==t&&a.contains(t);)s.push(t),t=t.offsetParent;const n=d.offsetTop+s.reduce((p,g)=>p+g.offsetTop,0),r=n+d.offsetHeight,c=a.scrollTop,y=c+a.clientHeight;n<c?a.scrollTop=n:r>y&&(a.scrollTop=r-a.clientHeight)}const ie="update:modelValue",Ot="change",bt=a=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(a),xt=["class","style"],wt=/^on[A-Z]/,St=(a={})=>{const{excludeListeners:d=!1,excludeKeys:s}=a,t=f(()=>((s==null?void 0:s.value)||[]).concat(xt)),n=Pe();return n?f(()=>{var r;return Ke(Object.entries((r=n.proxy)==null?void 0:r.$attrs).filter(([c])=>!t.value.includes(c)&&!(d&&wt.test(c))))}):f(()=>({}))};function Ct(a){const d=F();function s(){if(a.value==null)return;const{selectionStart:n,selectionEnd:r,value:c}=a.value;if(n==null||r==null)return;const y=c.slice(0,Math.max(0,n)),p=c.slice(Math.max(0,r));d.value={selectionStart:n,selectionEnd:r,value:c,beforeTxt:y,afterTxt:p}}function t(){if(a.value==null||d.value==null)return;const{value:n}=a.value,{beforeTxt:r,afterTxt:c,selectionStart:y}=d.value;if(r==null||c==null||y==null)return;let p=n.length;if(n.endsWith(c))p=n.length-c.length;else if(n.startsWith(r))p=r.length;else{const g=r[y-1],w=n.indexOf(g,y-1);w!==-1&&(p=w+1)}a.value.setSelectionRange(p,p)}return[s,t]}function Et(a,{afterFocus:d,beforeBlur:s,afterBlur:t}={}){const n=Pe(),{emit:r}=n,c=G(),y=F(!1),p=i=>{y.value||(y.value=!0,r("focus",i),d==null||d())},g=i=>{var N;rt(s)&&s(i)||i.relatedTarget&&((N=c.value)!=null&&N.contains(i.relatedTarget))||(y.value=!1,r("blur",i),t==null||t())},w=()=>{var i;(i=a.value)==null||i.focus()};return Z(c,i=>{i&&i.setAttribute("tabindex","-1")}),je(c,"click",w),{wrapperRef:c,isFocused:y,handleFocus:p,handleBlur:g}}let x;const It=`
  height:0 !important;
  visibility:hidden !important;
  ${gt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,zt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Tt(a){const d=window.getComputedStyle(a),s=d.getPropertyValue("box-sizing"),t=Number.parseFloat(d.getPropertyValue("padding-bottom"))+Number.parseFloat(d.getPropertyValue("padding-top")),n=Number.parseFloat(d.getPropertyValue("border-bottom-width"))+Number.parseFloat(d.getPropertyValue("border-top-width"));return{contextStyle:zt.map(c=>`${c}:${d.getPropertyValue(c)}`).join(";"),paddingSize:t,borderSize:n,boxSizing:s}}function ke(a,d=1,s){var t;x||(x=document.createElement("textarea"),document.body.appendChild(x));const{paddingSize:n,borderSize:r,boxSizing:c,contextStyle:y}=Tt(a);x.setAttribute("style",`${y};${It}`),x.value=a.value||a.placeholder||"";let p=x.scrollHeight;const g={};c==="border-box"?p=p+r:c==="content-box"&&(p=p-n),x.value="";const w=x.scrollHeight-n;if(Ce(d)){let i=w*d;c==="border-box"&&(i=i+n+r),p=Math.max(i,p),g.minHeight=`${i}px`}if(Ce(s)){let i=w*s;c==="border-box"&&(i=i+n+r),p=Math.min(i,p)}return g.height=`${p}px`,(t=x.parentNode)==null||t.removeChild(x),x=void 0,g}const kt=Ue({id:{type:String,default:void 0},size:Ye,disabled:Boolean,modelValue:{type:se([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:se([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ee},prefixIcon:{type:Ee},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:se([Object,Array,String]),default:()=>Xe({})},autofocus:{type:Boolean,default:!1}}),Pt={[ie]:a=>ne(a),input:a=>ne(a),change:a=>ne(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},Vt=["role"],Ft=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],Nt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Rt=Ve({name:"ElInput",inheritAttrs:!1}),Bt=Ve({...Rt,props:kt,emits:Pt,setup(a,{expose:d,emit:s}){const t=a,n=it(),r=ut(),c=f(()=>{const e={};return t.containerRole==="combobox"&&(e["aria-haspopup"]=n["aria-haspopup"],e["aria-owns"]=n["aria-owns"],e["aria-expanded"]=n["aria-expanded"]),e}),y=f(()=>[t.type==="textarea"?ce.b():u.b(),u.m(ue.value),u.is("disabled",z.value),u.is("exceed",Be.value),{[u.b("group")]:r.prepend||r.append,[u.bm("group","append")]:r.append,[u.bm("group","prepend")]:r.prepend,[u.m("prefix")]:r.prefix||t.prefixIcon,[u.m("suffix")]:r.suffix||t.suffixIcon||t.clearable||t.showPassword,[u.bm("suffix","password-clear")]:K.value&&te.value},n.class]),p=f(()=>[u.e("wrapper"),u.is("focus",ee.value)]),g=St({excludeKeys:f(()=>Object.keys(c.value))}),{form:w,formItem:i}=qe(),{inputId:N}=Ge(t,{formItemContext:i}),ue=Ze(),z=Je(),u=Ie("input"),ce=Ie("textarea"),_=G(),C=G(),Q=F(!1),R=F(!1),L=F(!1),de=F(),O=G(t.inputStyle),T=f(()=>_.value||C.value),{wrapperRef:Fe,isFocused:ee,handleFocus:D,handleBlur:W}=Et(T,{afterBlur(){var e;t.validateEvent&&((e=i==null?void 0:i.validate)==null||e.call(i,"blur").catch(l=>ze()))}}),pe=f(()=>{var e;return(e=w==null?void 0:w.statusIcon)!=null?e:!1}),B=f(()=>(i==null?void 0:i.validateState)||""),fe=f(()=>B.value&&Qe[B.value]),Ne=f(()=>L.value?et:tt),Re=f(()=>[n.style,t.inputStyle]),ve=f(()=>[t.inputStyle,O.value,{resize:t.resize}]),I=f(()=>ot(t.modelValue)?"":String(t.modelValue)),K=f(()=>t.clearable&&!z.value&&!t.readonly&&!!I.value&&(ee.value||Q.value)),te=f(()=>t.showPassword&&!z.value&&!t.readonly&&!!I.value&&(!!I.value||ee.value)),k=f(()=>t.showWordLimit&&!!g.value.maxlength&&(t.type==="text"||t.type==="textarea")&&!z.value&&!t.readonly&&!t.showPassword),oe=f(()=>I.value.length),Be=f(()=>!!k.value&&oe.value>Number(g.value.maxlength)),$e=f(()=>!!r.suffix||!!t.suffixIcon||K.value||t.showPassword||k.value||!!B.value&&pe.value),[He,Ae]=Ct(_);at(C,e=>{if(Me(),!k.value||t.resize!=="both")return;const l=e[0],{width:h}=l.contentRect;de.value={right:`calc(100% - ${h+15+6}px)`}});const $=()=>{const{type:e,autosize:l}=t;if(!(!J||e!=="textarea"||!C.value))if(l){const h=Te(l)?l.minRows:void 0,j=Te(l)?l.maxRows:void 0,Se=ke(C.value,h,j);O.value={overflowY:"hidden",...Se},P(()=>{C.value.offsetHeight,O.value=Se})}else O.value={minHeight:ke(C.value).minHeight}},Me=(e=>{let l=!1;return()=>{var h;if(l||!t.autosize)return;((h=C.value)==null?void 0:h.offsetParent)===null||(e(),l=!0)}})($),H=()=>{const e=T.value,l=t.formatter?t.formatter(I.value):I.value;!e||e.value===l||(e.value=l)},ae=async e=>{He();let{value:l}=e.target;if(t.formatter&&(l=t.parser?t.parser(l):l),!R.value){if(l===I.value){H();return}s(ie,l),s("input",l),await P(),H(),Ae()}},me=e=>{s("change",e.target.value)},he=e=>{s("compositionstart",e),R.value=!0},ye=e=>{var l;s("compositionupdate",e);const h=(l=e.target)==null?void 0:l.value,j=h[h.length-1]||"";R.value=!bt(j)},ge=e=>{s("compositionend",e),R.value&&(R.value=!1,ae(e))},_e=()=>{L.value=!L.value,be()},be=async()=>{var e;await P(),(e=T.value)==null||e.focus()},Le=()=>{var e;return(e=T.value)==null?void 0:e.blur()},Oe=e=>{Q.value=!1,s("mouseleave",e)},De=e=>{Q.value=!0,s("mouseenter",e)},xe=e=>{s("keydown",e)},We=()=>{var e;(e=T.value)==null||e.select()},we=()=>{s(ie,""),s("change",""),s("clear"),s("input","")};return Z(()=>t.modelValue,()=>{var e;P(()=>$()),t.validateEvent&&((e=i==null?void 0:i.validate)==null||e.call(i,"change").catch(l=>ze()))}),Z(I,()=>H()),Z(()=>t.type,async()=>{await P(),H(),$()}),ct(()=>{!t.formatter&&t.parser,H(),P($)}),d({input:_,textarea:C,ref:T,textareaStyle:ve,autosize:dt(t,"autosize"),focus:be,blur:Le,select:We,clear:we,resizeTextarea:$}),(e,l)=>pt((v(),S("div",re(o(c),{class:o(y),style:o(Re),role:e.containerRole,onMouseenter:De,onMouseleave:Oe}),[m(" input "),e.type!=="textarea"?(v(),S(le,{key:0},[m(" prepend slot "),e.$slots.prepend?(v(),S("div",{key:0,class:b(o(u).be("group","prepend"))},[U(e.$slots,"prepend")],2)):m("v-if",!0),V("div",{ref_key:"wrapperRef",ref:Fe,class:b(o(p))},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(v(),S("span",{key:0,class:b(o(u).e("prefix"))},[V("span",{class:b(o(u).e("prefix-inner"))},[U(e.$slots,"prefix"),e.prefixIcon?(v(),E(o(A),{key:0,class:b(o(u).e("icon"))},{default:M(()=>[(v(),E(Y(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),V("input",re({id:o(N),ref_key:"input",ref:_,class:o(u).e("inner")},o(g),{type:e.showPassword?L.value?"text":"password":e.type,disabled:o(z),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:t.form,autofocus:t.autofocus,onCompositionstart:he,onCompositionupdate:ye,onCompositionend:ge,onInput:ae,onFocus:l[0]||(l[0]=(...h)=>o(D)&&o(D)(...h)),onBlur:l[1]||(l[1]=(...h)=>o(W)&&o(W)(...h)),onChange:me,onKeydown:xe}),null,16,Ft),m(" suffix slot "),o($e)?(v(),S("span",{key:1,class:b(o(u).e("suffix"))},[V("span",{class:b(o(u).e("suffix-inner"))},[!o(K)||!o(te)||!o(k)?(v(),S(le,{key:0},[U(e.$slots,"suffix"),e.suffixIcon?(v(),E(o(A),{key:0,class:b(o(u).e("icon"))},{default:M(()=>[(v(),E(Y(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),o(K)?(v(),E(o(A),{key:1,class:b([o(u).e("icon"),o(u).e("clear")]),onMousedown:mt(o(ht),["prevent"]),onClick:we},{default:M(()=>[vt(o(st))]),_:1},8,["class","onMousedown"])):m("v-if",!0),o(te)?(v(),E(o(A),{key:2,class:b([o(u).e("icon"),o(u).e("password")]),onClick:_e},{default:M(()=>[(v(),E(Y(o(Ne))))]),_:1},8,["class"])):m("v-if",!0),o(k)?(v(),S("span",{key:3,class:b(o(u).e("count"))},[V("span",{class:b(o(u).e("count-inner"))},X(o(oe))+" / "+X(o(g).maxlength),3)],2)):m("v-if",!0),o(B)&&o(fe)&&o(pe)?(v(),E(o(A),{key:4,class:b([o(u).e("icon"),o(u).e("validateIcon"),o(u).is("loading",o(B)==="validating")])},{default:M(()=>[(v(),E(Y(o(fe))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(v(),S("div",{key:1,class:b(o(u).be("group","append"))},[U(e.$slots,"append")],2)):m("v-if",!0)],64)):(v(),S(le,{key:1},[m(" textarea "),V("textarea",re({id:o(N),ref_key:"textarea",ref:C,class:o(ce).e("inner")},o(g),{tabindex:e.tabindex,disabled:o(z),readonly:e.readonly,autocomplete:e.autocomplete,style:o(ve),"aria-label":e.label,placeholder:e.placeholder,form:t.form,autofocus:t.autofocus,onCompositionstart:he,onCompositionupdate:ye,onCompositionend:ge,onInput:ae,onFocus:l[2]||(l[2]=(...h)=>o(D)&&o(D)(...h)),onBlur:l[3]||(l[3]=(...h)=>o(W)&&o(W)(...h)),onChange:me,onKeydown:xe}),null,16,Nt),o(k)?(v(),S("span",{key:0,style:yt(de.value),class:b(o(u).e("count"))},X(o(oe))+" / "+X(o(g).maxlength),7)):m("v-if",!0)],64))],16,Vt)),[[ft,e.type!=="hidden"]])}});var $t=nt(Bt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Dt=lt($t);export{Ot as C,Dt as E,ie as U,_t as g,bt as i,Lt as s};
