import{b as V,r as $,d as B,o as p,i as N,g as l,w as a,u as t,F as b,f as c,c as m,a as r,q as f,t as x,e as y,_ as g}from"./app-cd9d792f.js";import{_ as A,E as d,k as D}from"./AuthenticatedLayout-6a7b3855.js";import{E as M}from"./index-3fc4dc74.js";import{E as T,a as k}from"./index-b6626359.js";import{E as L}from"./index-6c77b20b.js";import{E as I}from"./index-83e11657.js";import{E as S}from"./index-56d87e40.js";import"./index-2bdea57b.js";import"./validator-e732033b.js";const F={class:"container"},U={class:"row"},j=c("label",{for:""},"Location Name",-1),q={class:"flex justify-end"},R={__name:"Location",props:["locations"],setup(C){const n=V(!1),s=$({});B(()=>{v()});const v=()=>{s.value={name:null}},E=()=>{v(),n.value=!0},_=()=>{const e=s.value.id?route("location.update",s.value.id):route("location.store");y.post(e,s.value).finally(()=>{n.value=!1,g.Inertia.reload()})},w=e=>{s.value={...e},n.value=!0},h=e=>{S.confirm("Are you sure you want to delete this data?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{y.post(route("location.delete",e)).finally(()=>{D({type:"success",message:"Deleted successfully"}),g.Inertia.reload()})}).catch(()=>{})};return(e,i)=>(p(),N(b,null,[l(A,null,{default:a(()=>[c("div",F,[c("div",U,[l(t(M),{class:"m-5",shadow:"always"},{default:a(()=>[e.$page.props.isAdmin||e.$page.props.permissions.some(o=>o==="save location")?(p(),m(t(d),{key:0,class:"mb-2",type:"primary",onClick:E},{default:a(()=>[r("New")]),_:1})):f("",!0),l(t(T),{data:C.locations,"row-key":"id","header-row-class-name":"thead-light"},{default:a(()=>[l(t(k),{"min-width":"220px",label:"Name"},{default:a(({row:o})=>[r(x(o.name),1)]),_:1}),l(t(k),{"min-width":"170px",label:"Action",fixed:"right"},{default:a(({row:o})=>[e.$page.props.isAdmin||e.$page.props.permissions.some(u=>u==="update location")?(p(),m(t(d),{key:0,type:"primary",onClick:u=>w(o)},{default:a(()=>[r("Edit")]),_:2},1032,["onClick"])):f("",!0),e.$page.props.isAdmin||e.$page.props.permissions.some(u=>u==="delete location")?(p(),m(t(d),{key:1,type:"danger",onClick:u=>h(o.id)},{default:a(()=>[r("Delete")]),_:2},1032,["onClick"])):f("",!0)]),_:1})]),_:1},8,["data"])]),_:1})])])]),_:1}),l(t(I),{width:"500px",modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=o=>n.value=o),title:"Location"},{footer:a(()=>[c("span",q,[l(t(d),{type:"warning",onClick:i[1]||(i[1]=o=>n.value=!1),plain:""},{default:a(()=>[r("Cancel")]),_:1}),l(t(d),{type:"success",onClick:_,plain:""},{default:a(()=>[r("Save")]),_:1})])]),default:a(()=>[c("div",null,[j,l(t(L),{modelValue:s.value.name,"onUpdate:modelValue":i[0]||(i[0]=o=>s.value.name=o)},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64))}};export{R as default};
