import{b as V,r as h,d as B,e as v,o as M,i as T,g as t,w as s,u as a,F as z,f as n,a as i,t as u}from"./app-2f9d10f9.js";import{_ as D,E as f,k as g}from"./AuthenticatedLayout-e9870fba.js";import{E as I}from"./index-b2bd8d2c.js";import{E as N,a as d}from"./index-77e36d3c.js";import{E as R}from"./index-00a3f3ca.js";import{E as r}from"./index-345c38df.js";import{E as A}from"./index-a89ca195.js";import{E as F}from"./index-4d870a53.js";import"./index-2299c81e.js";import"./validator-fab8e9c6.js";import"./index-5d88026c.js";const L={class:"container pr-10"},P={class:"flex"},$={class:"flex justify-end pt-2"},j=n("label",null,"RFID",-1),q={class:"pt-2"},K=n("label",null,"Material",-1),O={class:"pt-2"},W=n("label",null,"Material Description",-1),G={class:"pt-2"},H=n("label",null,"Base Unit of Measure",-1),J={class:"pt-2"},Q=n("label",null,"Storage Type",-1),X={class:"pt-2"},Y=n("label",null,"Storage Unit",-1),Z={class:"pt-2"},ee=n("label",null,"Storage Bin",-1),le={class:"pt-2"},te=n("label",null,"Available Stock",-1),ae={class:"pt-2"},oe=n("label",null,"Last Movement",-1),ne={class:"pt-2"},se=n("label",null,"Last Changed By",-1),ie={class:"pt-2"},de=n("label",null,"Inventory Record",-1),ue={class:"flex justify-end"},xe={__name:"Transformer",setup(re){const p=V(!1),o=h({list:[]}),_=h({page:1,page_size:5}),y=V(0);B(()=>{b(),c()});const b=()=>{o.value={rfid:null,material:null,description:null,um:null,type:null,serial_no:null,bin:null,stock:null,last_movement:null,last_changed_by:null,record:null}},x=()=>document.querySelector("#import-transformer-file").click(),w=m=>{v.post(route("import.transformer"),{file:m.target.files[0],name:name.value},{headers:{"content-type":"multipart/form-data"}}).then(l=>{console.log(l.data),l.data?g({type:"warning",message:l.data}):g({type:"success",message:"Successfully uploaded."})}).catch(()=>{g({type:"error",message:"Error importing!!!"})}).finally(()=>{c()})},c=()=>{v.get(route("transformer.show",_)).then(m=>{const l=m.data;o.list=l.data,y.value=l.total})},k=()=>{b(),p.value=!0},C=()=>{const m=o.value.id?route("transformer.update",o.value.id):route("transformer.store");v.post(m,o.value).finally(()=>{p.value=!1,c()})},E=m=>{o.value={...m},p.value=!0},U=m=>{F.confirm("Are you sure you want to delete this data?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{v.post(route("transformer.delete",m)).finally(()=>{g({type:"success",message:"Deleted successfully"}),c()})}).catch(()=>{})};return(m,l)=>(M(),T(z,null,[t(D,null,{default:s(()=>[n("input",{id:"import-transformer-file",style:{display:"none"},type:"file",onChange:l[0]||(l[0]=e=>w(e)),accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},null,32),n("div",L,[t(a(I),{class:"m-5 w-full",shadow:"always"},{default:s(()=>[n("div",P,[t(a(f),{class:"mb-2",type:"primary",onClick:k},{default:s(()=>[i("New")]),_:1}),t(a(f),{class:"mb-2",type:"success",onClick:x},{default:s(()=>[i("Upload")]),_:1})]),t(a(N),{data:o.list,"row-key":"id","header-row-class-name":"thead-light"},{default:s(()=>[t(a(d),{"min-width":"220px",label:"RFID"},{default:s(({row:e})=>[i(u(e.rfid),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Material"},{default:s(({row:e})=>[i(u(e.material),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Material Description"},{default:s(({row:e})=>[i(u(e.description),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Base Unit of Measure"},{default:s(({row:e})=>[i(u(e.um),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Storage Type"},{default:s(({row:e})=>[i(u(e.type),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Storage Unit"},{default:s(({row:e})=>[i(u(e.serial_no),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Storage Bin"},{default:s(({row:e})=>[i(u(e.bin),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Available Stock"},{default:s(({row:e})=>[i(u(e.stock),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Last Movement"},{default:s(({row:e})=>[i(u(e.last_movement),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Last Changed by"},{default:s(({row:e})=>[i(u(e.last_changed_by),1)]),_:1}),t(a(d),{"min-width":"220px",label:"Inventory Record"},{default:s(({row:e})=>[i(u(e.record),1)]),_:1}),t(a(d),{"min-width":"170px",label:"Action",fixed:"right"},{default:s(({row:e})=>[t(a(f),{type:"primary",onClick:S=>E(e)},{default:s(()=>[i("Edit")]),_:2},1032,["onClick"]),t(a(f),{type:"danger",onClick:S=>U(e.id)},{default:s(()=>[i("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),n("div",$,[t(a(R),{currentPage:_.page,"onUpdate:currentPage":l[1]||(l[1]=e=>_.page=e),"page-size":_.page_size,"onUpdate:pageSize":l[2]||(l[2]=e=>_.page_size=e),"page-sizes":[5,10,50,100],background:"",layout:"total, sizes, prev, pager, next",total:y.value,onSizeChange:c,onCurrentChange:c},null,8,["currentPage","page-size","total"])])]),_:1})])]),_:1}),t(a(A),{width:"500px",modelValue:p.value,"onUpdate:modelValue":l[15]||(l[15]=e=>p.value=e),title:"Truck"},{footer:s(()=>[n("span",ue,[t(a(f),{type:"warning",onClick:l[14]||(l[14]=e=>p.value=!1),plain:""},{default:s(()=>[i("Cancel")]),_:1}),t(a(f),{type:"success",onClick:C,plain:""},{default:s(()=>[i("Save")]),_:1})])]),default:s(()=>[n("div",null,[j,t(a(r),{modelValue:o.value.rfid,"onUpdate:modelValue":l[3]||(l[3]=e=>o.value.rfid=e)},null,8,["modelValue"])]),n("div",q,[K,t(a(r),{modelValue:o.value.material,"onUpdate:modelValue":l[4]||(l[4]=e=>o.value.material=e)},null,8,["modelValue"])]),n("div",O,[W,t(a(r),{modelValue:o.value.description,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value.description=e)},null,8,["modelValue"])]),n("div",G,[H,t(a(r),{modelValue:o.value.um,"onUpdate:modelValue":l[6]||(l[6]=e=>o.value.um=e)},null,8,["modelValue"])]),n("div",J,[Q,t(a(r),{modelValue:o.value.type,"onUpdate:modelValue":l[7]||(l[7]=e=>o.value.type=e)},null,8,["modelValue"])]),n("div",X,[Y,t(a(r),{modelValue:o.value.serial_no,"onUpdate:modelValue":l[8]||(l[8]=e=>o.value.serial_no=e)},null,8,["modelValue"])]),n("div",Z,[ee,t(a(r),{modelValue:o.value.bin,"onUpdate:modelValue":l[9]||(l[9]=e=>o.value.bin=e)},null,8,["modelValue"])]),n("div",le,[te,t(a(r),{modelValue:o.value.stock,"onUpdate:modelValue":l[10]||(l[10]=e=>o.value.stock=e)},null,8,["modelValue"])]),n("div",ae,[oe,t(a(r),{modelValue:o.value.last_movement,"onUpdate:modelValue":l[11]||(l[11]=e=>o.value.last_movement=e)},null,8,["modelValue"])]),n("div",ne,[se,t(a(r),{modelValue:o.value.last_changed_by,"onUpdate:modelValue":l[12]||(l[12]=e=>o.value.last_changed_by=e)},null,8,["modelValue"])]),n("div",ie,[de,t(a(r),{modelValue:o.value.record,"onUpdate:modelValue":l[13]||(l[13]=e=>o.value.record=e)},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64))}};export{xe as default};
