import{b as C,r as x,d as T,e as y,o as g,i as z,g as t,w as n,u as a,F as D,f as s,c as V,a as d,q as b,t as u}from"./app-cd9d792f.js";import{_ as A,E as f,k as h}from"./AuthenticatedLayout-6a7b3855.js";import{E as I}from"./index-3fc4dc74.js";import{E as L,a as r}from"./index-b6626359.js";import{E as N}from"./index-6b0a4a58.js";import{E as p}from"./index-6c77b20b.js";import{E as R}from"./index-83e11657.js";import{E as F}from"./index-56d87e40.js";import"./index-79bb912f.js";import"./validator-e732033b.js";import"./index-2bdea57b.js";const P={class:"container pr-10"},j={class:"flex"},q={class:"flex justify-end pt-2"},K=s("label",null,"RFID",-1),O={class:"pt-2"},W=s("label",null,"Material",-1),G={class:"pt-2"},H=s("label",null,"Material Description",-1),J={class:"pt-2"},Q=s("label",null,"Base Unit of Measure",-1),X={class:"pt-2"},Y=s("label",null,"Storage Type",-1),Z={class:"pt-2"},ee=s("label",null,"Storage Location",-1),le={class:"pt-2"},ae=s("label",null,"Storage Unit",-1),te={class:"pt-2"},oe=s("label",null,"Storage Bin",-1),se={class:"pt-2"},ne=s("label",null,"Available Stock",-1),ie={class:"pt-2"},de=s("label",null,"Last Movement",-1),re={class:"pt-2"},ue=s("label",null,"Last Changed By",-1),pe={class:"pt-2"},me=s("label",null,"Inventory Record",-1),ce={class:"flex justify-end"},Ee={__name:"Transformer",setup(fe){const m=C(!1),o=x({list:[]}),v=x({page:1,page_size:5}),k=C(0);T(()=>{w(),c()});const w=()=>{o.value={rfid:null,material:null,description:null,um:null,loc:null,type:null,serial_no:null,bin:null,stock:null,last_movement:null,last_changed_by:null,record:null}},E=()=>document.querySelector("#import-transformer-file").click(),U=i=>{y.post(route("import.transformer"),{file:i.target.files[0],name:name.value},{headers:{"content-type":"multipart/form-data"}}).then(l=>{console.log(l.data),l.data?h({type:"warning",message:l.data}):h({type:"success",message:"Successfully uploaded."})}).catch(()=>{h({type:"error",message:"Error importing!!!"})}).finally(()=>{c()})},c=()=>{y.get(route("transformer.show",v)).then(i=>{const l=i.data;o.list=l.data,k.value=l.total})},S=()=>{w(),m.value=!0},B=()=>{const i=o.value.id?route("transformer.update",o.value.id):route("transformer.store");y.post(i,o.value).finally(()=>{m.value=!1,c()})},M=i=>{o.value={...i},m.value=!0},$=i=>{F.confirm("Are you sure you want to delete this data?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{y.post(route("transformer.delete",i)).finally(()=>{h({type:"success",message:"Deleted successfully"}),c()})}).catch(()=>{})};return(i,l)=>(g(),z(D,null,[t(A,null,{default:n(()=>[s("input",{id:"import-transformer-file",style:{display:"none"},type:"file",onChange:l[0]||(l[0]=e=>U(e)),accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},null,32),s("div",P,[t(a(I),{class:"m-5 w-full",shadow:"always"},{default:n(()=>[s("div",j,[i.$page.props.isAdmin||i.$page.props.permissions.some(e=>e==="save transformer")?(g(),V(a(f),{key:0,class:"mb-2",type:"primary",onClick:S},{default:n(()=>[d("New")]),_:1})):b("",!0),i.$page.props.isAdmin||i.$page.props.permissions.some(e=>e==="save transformer")?(g(),V(a(f),{key:1,class:"mb-2",type:"success",onClick:E},{default:n(()=>[d("Upload")]),_:1})):b("",!0)]),t(a(L),{data:o.list,"row-key":"id","header-row-class-name":"thead-light"},{default:n(()=>[t(a(r),{"min-width":"220px",label:"RFID"},{default:n(({row:e})=>[d(u(e.rfid),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Material"},{default:n(({row:e})=>[d(u(e.material),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Material Description"},{default:n(({row:e})=>[d(u(e.description),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Storage Location"},{default:n(({row:e})=>[d(u(e.loc),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Base Unit of Measure"},{default:n(({row:e})=>[d(u(e.um),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Storage Type"},{default:n(({row:e})=>[d(u(e.type),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Storage Unit"},{default:n(({row:e})=>[d(u(e.serial_no),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Storage Bin"},{default:n(({row:e})=>[d(u(e.bin),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Available Stock"},{default:n(({row:e})=>[d(u(e.stock),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Last Movement"},{default:n(({row:e})=>[d(u(e.last_movement),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Last Changed by"},{default:n(({row:e})=>[d(u(e.last_changed_by),1)]),_:1}),t(a(r),{"min-width":"220px",label:"Inventory Record"},{default:n(({row:e})=>[d(u(e.record),1)]),_:1}),t(a(r),{"min-width":"170px",label:"Action",fixed:"right"},{default:n(({row:e})=>[i.$page.props.isAdmin||i.$page.props.permissions.some(_=>_==="update transformer")?(g(),V(a(f),{key:0,type:"primary",onClick:_=>M(e)},{default:n(()=>[d("Edit")]),_:2},1032,["onClick"])):b("",!0),i.$page.props.isAdmin||i.$page.props.permissions.some(_=>_==="delete transformer")?(g(),V(a(f),{key:1,type:"danger",onClick:_=>$(e.id)},{default:n(()=>[d("Delete")]),_:2},1032,["onClick"])):b("",!0)]),_:1})]),_:1},8,["data"]),s("div",q,[t(a(N),{currentPage:v.page,"onUpdate:currentPage":l[1]||(l[1]=e=>v.page=e),"page-size":v.page_size,"onUpdate:pageSize":l[2]||(l[2]=e=>v.page_size=e),"page-sizes":[5,10,50,100],background:"",layout:"total, sizes, prev, pager, next",total:k.value,onSizeChange:c,onCurrentChange:c},null,8,["currentPage","page-size","total"])])]),_:1})])]),_:1}),t(a(R),{width:"500px",modelValue:m.value,"onUpdate:modelValue":l[16]||(l[16]=e=>m.value=e),title:"Truck"},{footer:n(()=>[s("span",ce,[t(a(f),{type:"warning",onClick:l[15]||(l[15]=e=>m.value=!1),plain:""},{default:n(()=>[d("Cancel")]),_:1}),t(a(f),{type:"success",onClick:B,plain:""},{default:n(()=>[d("Save")]),_:1})])]),default:n(()=>[s("div",null,[K,t(a(p),{modelValue:o.value.rfid,"onUpdate:modelValue":l[3]||(l[3]=e=>o.value.rfid=e)},null,8,["modelValue"])]),s("div",O,[W,t(a(p),{modelValue:o.value.material,"onUpdate:modelValue":l[4]||(l[4]=e=>o.value.material=e)},null,8,["modelValue"])]),s("div",G,[H,t(a(p),{modelValue:o.value.description,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value.description=e)},null,8,["modelValue"])]),s("div",J,[Q,t(a(p),{modelValue:o.value.um,"onUpdate:modelValue":l[6]||(l[6]=e=>o.value.um=e)},null,8,["modelValue"])]),s("div",X,[Y,t(a(p),{modelValue:o.value.type,"onUpdate:modelValue":l[7]||(l[7]=e=>o.value.type=e)},null,8,["modelValue"])]),s("div",Z,[ee,t(a(p),{modelValue:o.value.loc,"onUpdate:modelValue":l[8]||(l[8]=e=>o.value.loc=e)},null,8,["modelValue"])]),s("div",le,[ae,t(a(p),{modelValue:o.value.serial_no,"onUpdate:modelValue":l[9]||(l[9]=e=>o.value.serial_no=e)},null,8,["modelValue"])]),s("div",te,[oe,t(a(p),{modelValue:o.value.bin,"onUpdate:modelValue":l[10]||(l[10]=e=>o.value.bin=e)},null,8,["modelValue"])]),s("div",se,[ne,t(a(p),{modelValue:o.value.stock,"onUpdate:modelValue":l[11]||(l[11]=e=>o.value.stock=e)},null,8,["modelValue"])]),s("div",ie,[de,t(a(p),{modelValue:o.value.last_movement,"onUpdate:modelValue":l[12]||(l[12]=e=>o.value.last_movement=e)},null,8,["modelValue"])]),s("div",re,[ue,t(a(p),{modelValue:o.value.last_changed_by,"onUpdate:modelValue":l[13]||(l[13]=e=>o.value.last_changed_by=e)},null,8,["modelValue"])]),s("div",pe,[me,t(a(p),{modelValue:o.value.record,"onUpdate:modelValue":l[14]||(l[14]=e=>o.value.record=e)},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64))}};export{Ee as default};
