import{b as V,r as _,d as b,e as g,o as z,i as D,g as t,w as s,u as l,F as B,f as i,a as d,t as v}from"./app-cd9d792f.js";import{_ as N,E as f,k as y}from"./AuthenticatedLayout-6a7b3855.js";import{E as S}from"./index-3fc4dc74.js";import{E as F,a as c}from"./index-b6626359.js";import{E as A}from"./index-6b0a4a58.js";import{E as C}from"./index-6c77b20b.js";import{E as I}from"./index-83e11657.js";import{E as M}from"./index-56d87e40.js";import"./index-79bb912f.js";import"./validator-e732033b.js";import"./index-2bdea57b.js";const T={class:"container"},U={class:"row"},P={class:"flex justify-end pt-2"},R=i("label",{for:""},"Serial Number",-1),$=i("label",{for:""},"RFID",-1),j={class:"flex justify-end"},ee={__name:"RFIDAssigning",setup(K){const u=V(!1),o=_({list:[]}),r=_({page:1,page_size:5,total:0});b(()=>{m(),p()});const p=()=>{g.get(route("rfid-assigning.get",r)).then(n=>{const e=n.data;o.list=e.data,r.total=e.total})},m=()=>{o.value={serial_no:null,rfid:null}},E=()=>{m(),u.value=!0},k=()=>{console.log(o.value);const n=o.value.id?route("rfid-assigning.update",o.value.id):route("rfid-assigning.store");g.post(n,o.value).then(()=>{u.value=!1,p()}).catch(e=>{y({type:"error",message:e.response.data.message||"An error occurred"})})},w=n=>{o.value={...n},u.value=!0},x=n=>{M.confirm("Are you sure you want to delete this data?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{g.delete(route("rfid-assigning.delete",n)).finally(()=>{y({type:"success",message:"Deleted successfully"}),p()})}).catch(()=>{})};return(n,e)=>(z(),D(B,null,[t(N,null,{default:s(()=>[i("div",T,[i("div",U,[t(l(S),{class:"m-5",shadow:"always"},{default:s(()=>[t(l(f),{class:"mb-2",type:"primary",onClick:E},{default:s(()=>[d("New")]),_:1}),t(l(F),{data:o.list,"row-key":"id","header-row-class-name":"thead-light"},{default:s(()=>[t(l(c),{"min-width":"220px",label:"Serial No"},{default:s(({row:a})=>[d(v(a.serial_no),1)]),_:1}),t(l(c),{"min-width":"220px",label:"RFID"},{default:s(({row:a})=>[d(v(a.rfid),1)]),_:1}),t(l(c),{"min-width":"170px",label:"Action",fixed:"right"},{default:s(({row:a})=>[t(l(f),{type:"primary",onClick:h=>w(a)},{default:s(()=>[d("Edit")]),_:2},1032,["onClick"]),t(l(f),{type:"danger",onClick:h=>x(a.id)},{default:s(()=>[d("Delete")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),i("div",P,[t(l(A),{currentPage:r.page,"onUpdate:currentPage":e[0]||(e[0]=a=>r.page=a),"page-size":r.page_size,"onUpdate:pageSize":e[1]||(e[1]=a=>r.page_size=a),"page-sizes":[5,10,50,100],background:"",layout:"total, sizes, prev, pager, next",total:r.total,onSizeChange:p,onCurrentChange:p},null,8,["currentPage","page-size","total"])])]),_:1})])])]),_:1}),t(l(I),{width:"500px",modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=a=>u.value=a),title:"RFID Assigning"},{footer:s(()=>[i("span",j,[t(l(f),{type:"warning",onClick:e[4]||(e[4]=a=>u.value=!1),plain:""},{default:s(()=>[d("Cancel")]),_:1}),t(l(f),{type:"success",onClick:k,plain:""},{default:s(()=>[d("Save")]),_:1})])]),default:s(()=>[i("div",null,[R,t(l(C),{modelValue:o.value.serial_no,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.serial_no=a)},null,8,["modelValue"])]),i("div",null,[$,t(l(C),{modelValue:o.value.rfid,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.rfid=a)},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64))}};export{ee as default};
